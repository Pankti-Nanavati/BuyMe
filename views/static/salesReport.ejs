<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="../../../salesReport.css">
    <!-- Required CSS -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">

<!-- Required JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>

  </head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">Hi Admin</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
  <main>
    <h2> Generate Sales Report</h2>
    <form style="margin-top: 50px;">
        <label for="from">From:</label>
        <input type="datetime-local" id="from" name="from">
        <label for="to">To:</label>
        <input type="datetime-local" id="to" name="to">
        <button type="submit" id="submitBtn">Submit</button>
      </form>
  </main>

  <h2 class="hidden">Summary of Sales</h2>
<table id="summaryTable" class="hidden">
  <thead>
    <tr>
      <th>Product Name</th>
      <th>Category</th>
      <th>Subcategory</th>
      <th>Seller Name</th>
      <th>Buyer Name</th>
      <th>Price</th>
    </tr>
  </thead>
  <tbody id="summaryTableBody">
  </tbody>
  <tfoot>
    <tr>
      <th colspan="5">Total Earnings:</th>
      <td id="totalEarnings"></td>
    </tr>
  </tfoot>
</table>

<h2 class="hidden">Table 2</h2>
<table id="table2" class="hidden">
  <thead>
    <tr>
      <th>Column 1</th>
      <th>Column 2</th>
      <th>Column 3</th>
    </tr>
  </thead>
  <tbody id="table2Body">
  </tbody>
</table>

<h2 class="hidden">Table 3</h2>
<table id="table3" class="hidden">
  <thead>
    <tr>
      <th>Column 1</th>
      <th>Column 2</th>
      <th>Column 3</th>
    </tr>
  </thead>
  <tbody id="table3Body">
  </tbody>
</table>


  </body>
  </html>
  <script>
   const form = document.querySelector('form');
const submitBtn = document.querySelector('#submitBtn');
const summaryTableBody = document.querySelector('#summaryTableBody');
const totalEarnings = document.querySelector('#totalEarnings');
const table2Body = document.querySelector('#table2Body');
const table3Body = document.querySelector('#table3Body');

form.addEventListener('submit', (event) => {
  event.preventDefault();
  const fromDate = document.querySelector('#from').value;
  const toDate = document.querySelector('#to').value;

  fetch(`http://api.example.com/sales?from=${fromDate}&to=${toDate}`)
    .then(response => response.json())
    .then(data => {
      // Clear previous table data
      summaryTableBody.innerHTML = '';
      table2Body.innerHTML = '';
      table3Body.innerHTML = '';

      // Populate summary table and calculate total earnings
      let total = 0;
      data.forEach(sale => {
        const row = summaryTableBody.insertRow();
        row.innerHTML = `
          <td>${sale.productName}</td>
          <td>${sale.category}</td>
          <td>${sale.subcategory}</td>
          <td>${sale.sellerName}</td>
          <td>${sale.buyerName}</td>
          <td>${sale.price}</td>
        `;
        total += sale.price;
        summaryTable.classList.remove('hidden');
      table2.classList.remove('hidden');
      table3.classList.remove('hidden');
    });
});
}



  </script>